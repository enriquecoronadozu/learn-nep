<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Basic theory - NEP</title>
    <meta name="generator" content="Hugo 0.31.1" />

    
    <meta name="description" content="NEP documentation">
    
    <link rel="canonical" href="https://enriquecoronadozu.github.io/learn-nep/tutorials/">
    
    <meta name="author" content="Enrique Coronado">
    

    <meta property="og:url" content="https://enriquecoronadozu.github.io/learn-nep/tutorials/">
    <meta property="og:title" content="NEP">
    <meta property="og:image" content="https://enriquecoronadozu.github.io/learn-nep/images/logo2.png">
    <meta name="apple-mobile-web-app-title" content="NEP">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://enriquecoronadozu.github.io/learn-nep/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://enriquecoronadozu.github.io/learn-nep/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://enriquecoronadozu.github.io/learn-nep/fonts/icon.eot');
        src: url('https://enriquecoronadozu.github.io/learn-nep/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://enriquecoronadozu.github.io/learn-nep/fonts/icon.woff')
               format('woff'),
             url('https://enriquecoronadozu.github.io/learn-nep/fonts/icon.ttf')
               format('truetype'),
             url('https://enriquecoronadozu.github.io/learn-nep/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://enriquecoronadozu.github.io/learn-nep/stylesheets/application.css">
    <link rel="stylesheet" href="https://enriquecoronadozu.github.io/learn-nep/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://enriquecoronadozu.github.io/learn-nep/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://enriquecoronadozu.github.io/learn-nep/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://enriquecoronadozu.github.io/learn-nep/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-indigo palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Basic theory
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/enriquecoronadozu/NEP" title="@enriquecoronadozu/NEP on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/enriquecoronadozu/NEP" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://enriquecoronadozu.github.io/learn-nep/images/logo2.png">
        </div>
      
      <div class="name">
        <strong>NEP <span class="version">0.4 (beta)</span></strong>
        
          <br>
          enriquecoronadozu/NEP
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/enriquecoronadozu/NEP/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/enriquecoronadozu/NEP/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Home" href="https://enriquecoronadozu.github.io/learn-nep/">
	
	Home
</a>



  
</li>



<li>
  
    



<a  title="Installation" href="https://enriquecoronadozu.github.io/learn-nep/install/">
	
	Installation
</a>



  
</li>



<li>
  
    



<a class="current" title="Basic theory" href="https://enriquecoronadozu.github.io/learn-nep/tutorials/">
	
	Basic theory
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="NEP API" href="https://enriquecoronadozu.github.io/learn-nep/tutorials_nep/">
	
	NEP API
</a>



  
</li>



<li>
  
    



<a  title="RIZE interface" href="https://enriquecoronadozu.github.io/learn-nep/rize/">
	
	RIZE interface
</a>



  
</li>



<li>
  
    



<a  title="Behavior specification" href="https://enriquecoronadozu.github.io/learn-nep/behavior/">
	
	Behavior specification
</a>



  
</li>



<li>
  
    



<a  title="Compatibility" href="https://enriquecoronadozu.github.io/learn-nep/compatibility/">
	
	Compatibility
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/enriquecoronadozu/NEP" target="_blank" title="@enriquecoronadozu/NEP on GitHub">
              @enriquecoronadozu/NEP on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:enriquecoronadozu@email.com" title="Email of enriquecoronadozu@email.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Basic theory </h1>

			

<ul>
<li>This tutorial briefly explains how distributed applications with robots are created.</li>
<li>This tutorial is oriented for newcomers engineering students in software architectures, robot middleware and distributed systems.</li>
<li>If you already have a lot of experience with frameworks such as ROS, then you can skip this tutorial.</li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Robot software development tends to be a complex task. The use of different types of robots and applications generally requires to deal with different algorithms, devices and actuators, each of them working in separated process that are executed at the same time. These processes generally works in different frequencies and can be written in different programming languages. One way to manage the complexity that involves robot programming is the use of some guidelines and design patterns, together with programming tools (such as NEP and ROS) that support these patterns.</p>

<h3 id="monolitic-vs-modular">Monolitic vs Modular</h3>

<p>We can denote an application as <strong>monolithic</strong> when only one process (node) is used to perform and manage all the robot functionalitiesin some application. These type of programs are regularly done in a single script that uses several functions calls to some libraries.</p>

<p>We can denote an application as <strong>modular</strong> when the robot functionalities are divided in atomic and interchangeable processes, nodes or scripts that are executed at the same time. For example, an application that uses:</p>

<ul>
<li>A C# program that adquire data from a Kinect sensor</li>
<li>A Python script that use the data obtained from kinect to recognize human gestures.</li>
<li>A Matlab script that perform the robot desition making in base the human destures detected.</li>
<li>A C++ process that execute the low-level control algorithms and send the signal to move the robot actuators.</li>
</ul>

<p>The idea of separate a robot application in modular and simple nodes has the main objective to improve the reusability, maintainability and performance of robotic systems. This approach implies to start thinking in a <em>&ldquo;divide and conquer&rdquo;</em> way.</p>

<h2 id="inter-process-comunication">Inter-process comunication</h2>

<p>In complex robotic system, several nodes must be able to communicate with others that runs at the same time. The way in which different nodes communicates between them is denoted as inter-process communication. Classical forms of inter-process communication are signals, pipes, shared memory and sockets. However, sockets are the more general communication approach.</p>

<h3 id="sockets-and-robot-middlewares">Sockets and robot middlewares</h3>

<p>Sockets are commonly used when communication between two process on the same or different machines is needed. A socket is defined by a endpoint which is constituted by a protocol, a ip address and a port value. An example of endpoint definition is <code>tcp://127.0.0.1:5000</code>, where <code>tcp</code> indicates the protocol, <code>127.0.0.1</code> indicates local ip adress and <code>5000</code> is the port of the connection.</p>

<p>A typical solution adopted to create distributed robotic systems based in socket communication is to use a messaging middleware. The NEP framework uses ZeroMQ and nanomsg messaging middleware libraries to allows inter-process comunication functionalities in Windows, Linux and MacOS. The NEP library can also be used to create ROS nodes which can publish messages to a ROS-based network. The approach adopted in NEP is to keep the code independent of the  middleware layer in order to enable an ease switch to future technologies.</p>

<h2 id="comunication-patterns">Comunication patterns</h2>

<p>Messaging patterns are generally used to describes the flow of communication between process in distributed systems. Two widely used messaging patterns in robotics are <strong>request/reply</strong> and <strong>publish/subscribe</strong> models.</p>

<h3 id="client-server">Client-Server</h3>

<p>In the <em>request/reply</em> pattern, also denoted as <em>client/server</em>,  a process sends a request for some data and then waits for the response to this request.  If a response never comes a deadlock can occur. This pattern is good for the cases where sincronization between two task is needed.</p>

<p><img src="https://enriquecoronadozu.github.io/learn-nep/images/cs.png" alt="Material Screenshot" /></p>

<h3 id="publish-subscribe">Publish-Subscribe</h3>

<p>The <em>publish/subscribe</em> model is another classic pattern where the producers of messages, called publishers, send messages without the knowledge of what or if any receiver, called subscribers, exists. Unlike typical request/reply models, the communication in a publish/subscribe model is made in an asynchronous way. A popular publish/subscribe scheme is based on the notion of <strong>topics</strong>. In this scheme subscribers can use a set of keywords called <strong>topics</strong> to filtered the information sent by publishers.</p>

<p><img src="https://enriquecoronadozu.github.io/learn-nep/images/ps.png" alt="Material Screenshot" /></p>

<h2 id="network-architectures">Network architectures</h2>

<p>Network architectures used to creates distributed systems are characterised by a number of trade-offs that involves efficiency, determinism, scalability, security and robustness. NEP supports multiple network architectures which includes <strong>direct endpoint descriptions</strong>, <strong>central services (broker)</strong> and a <strong>Peer to Peer (P2P) master name server</strong>. A description of each approach is shown bellow.</p>

<ul>
<li>In a <strong>direct</strong> architecture the endpoints are manually set by the user. This approach can be used to communicates process in diferent computers. However, this approach must to be avoided when many process need to be connected between them or when it is expected to scale the number of nodes in the future. This is due that the manageability of the system gets worse when the number of nodes increases.</li>
</ul>

<p><img src="https://enriquecoronadozu.github.io/learn-nep/images/direct.png" alt="Material Screenshot" /></p>

<ul>
<li>The use of a <strong>broker</strong> help in the manageability of the system. A broker is a node or static point where all other nodes connect.  This approach reduces the number of endpoint to be configured to only one. However, due that all the communication is passed through the broker, some latency can be presented when the number of messages hit the limit of the broker capacity. This is due that all the messages are passed in the same socket and only referenced by a topic.</li>
</ul>

<p><img src="https://enriquecoronadozu.github.io/learn-nep/images/broker.png" alt="Material Screenshot" /></p>

<ul>
<li>When using a <strong>P2P</strong> network with a <strong>master name server</strong> or <strong>master node</strong>, all the nodes in the network are implicitly connected to this node to performs registration requests of message topics.  When the master node detects a topic registration request, it assigns to the requested topic an endpoint direction (i.e., an IP address and a port). This endpoint information is saved and sent to the publisher or subscriber instances which have performed the registration request of the topic. In this approach communication starts when at least one publisher and one subscriber have requested the registration of the same topic. Unlike the broker approach, the messages are passed in diferent sockets, which overcome the problem of latency. This approach is used in ROS.</li>
</ul>

<p><img src="https://enriquecoronadozu.github.io/learn-nep/images/master.png" alt="Material Screenshot" /></p>


			<aside class="copyright" role="note">
				
				&copy; 2018 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://enriquecoronadozu.github.io/learn-nep/install/" title="">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://enriquecoronadozu.github.io/learn-nep/behavior/" title="JSON Robot Behavior Specification (JRBS)">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              JSON Robot Behavior Specification (JRBS)
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/enriquecoronadozu.github.io\/learn-nep\/';
      var repo_id  = 'enriquecoronadozu\/NEP';
    
    </script>

    <script src="https://enriquecoronadozu.github.io/learn-nep/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

